clock sys = 20hz;

proc producer(chan<int> out) {
  on sys.tick {
    static i: int = 0;
    out.send(i);
    i = i + 1;
  }
}

proc filter(chan<int> in, chan<int> out) {
  on sys.tick {
    println(100);
  }
}

proc consumer(chan<int> in) {
  on sys.tick {
    println(200);
  }
}

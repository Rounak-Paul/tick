event compute;
signal<int> result_channel;

@compute
process worker1 {
  var sum : int = 4950;
  result_channel.emit(sum);
}

@compute
process worker2 {
  var sum : int = 14950;
  result_channel.emit(sum);
}

@compute
process worker3 {
  var sum : int = 24950;
  result_channel.emit(sum);
}

@compute
process worker4 {
  var sum : int = 34950;
  result_channel.emit(sum);
}

func main() : int {
  compute.execute();
  
  var r1 : int = result_channel.recv();
  var r2 : int = result_channel.recv();
  var r3 : int = result_channel.recv();
  var r4 : int = result_channel.recv();
  
  var total : int = r1 + r2 + r3 + r4;
  
  return 0;
}
